import{a as ht}from"./chunks/mermaid.esm.min/chunk-6VWZOGXT.mjs";import{a as Bt}from"./chunks/mermaid.esm.min/chunk-CDL2NZHY.mjs";import{a as Nt,b as Ut}from"./chunks/mermaid.esm.min/chunk-7LIB5WBN.mjs";import{a as qt}from"./chunks/mermaid.esm.min/chunk-OI75NVUV.mjs";import"./chunks/mermaid.esm.min/chunk-ZWGF5XML.mjs";import{b as St}from"./chunks/mermaid.esm.min/chunk-7H6T7AZC.mjs";import"./chunks/mermaid.esm.min/chunk-U6LOUQAF.mjs";import{a as Mt}from"./chunks/mermaid.esm.min/chunk-3SVD6B67.mjs";import{b as Gt,j as yt,l as Vt,m as G,n as $t,o as Ht}from"./chunks/mermaid.esm.min/chunk-JCRXNOLL.mjs";import"./chunks/mermaid.esm.min/chunk-TI4EEUUG.mjs";import{$ as z,A as _,B as jt,C as Y,D as ke,G as It,M as _t,O as zt,aa as X,b as l,c as lt,d as At,f as Tt,fa as k,g as gt,h as Z,i as J,j as Ct,k as Rt,r as tt,u as ut,v as kt,w as Ot,x as Pt,y as Dt,z as Ft}from"./chunks/mermaid.esm.min/chunk-XP6OA2RL.mjs";import{d as xt}from"./chunks/mermaid.esm.min/chunk-YPUTD6PB.mjs";import"./chunks/mermaid.esm.min/chunk-6BY5RJGC.mjs";import{a as e,e as Re}from"./chunks/mermaid.esm.min/chunk-GTKDMUJJ.mjs";var Yt="c4",Oe=e(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Pe=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/c4Diagram-PRKFJCHT.mjs");return{id:Yt,diagram:t}},"loader"),Fe={id:Yt,detector:Oe,loader:Pe},Xt=Fe;var Wt="flowchart",je=e((t,r)=>r?.flowchart?.defaultRenderer==="dagre-wrapper"||r?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),Ie=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/flowDiagram-FKN2Y2MS.mjs");return{id:Wt,diagram:t}},"loader"),_e={id:Wt,detector:je,loader:Ie},Kt=_e;var Qt="flowchart-v2",ze=e((t,r)=>r?.flowchart?.defaultRenderer==="dagre-d3"?!1:(r?.flowchart?.defaultRenderer==="elk"&&(r.layout="elk"),/^\s*graph/.test(t)&&r?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),Ge=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/flowDiagram-FKN2Y2MS.mjs");return{id:Qt,diagram:t}},"loader"),Ve={id:Qt,detector:ze,loader:Ge},Zt=Ve;var Jt="er",$e=e(t=>/^\s*erDiagram/.test(t),"detector"),He=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/erDiagram-LENSBPN2.mjs");return{id:Jt,diagram:t}},"loader"),Ne={id:Jt,detector:$e,loader:He},tr=Ne;var rr="gitGraph",Ue=e(t=>/^\s*gitGraph/.test(t),"detector"),qe=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/gitGraphDiagram-MDMLPO2A.mjs");return{id:rr,diagram:t}},"loader"),Be={id:rr,detector:Ue,loader:qe},er=Be;var ar="gantt",Ye=e(t=>/^\s*gantt/.test(t),"detector"),Xe=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/ganttDiagram-5DNVANDO.mjs");return{id:ar,diagram:t}},"loader"),We={id:ar,detector:Ye,loader:Xe},ir=We;var or="info",Ke=e(t=>/^\s*info/.test(t),"detector"),Qe=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/infoDiagram-3GP7C7N5.mjs");return{id:or,diagram:t}},"loader"),nr={id:or,detector:Ke,loader:Qe};var sr="pie",Ze=e(t=>/^\s*pie/.test(t),"detector"),Je=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/pieDiagram-HKDAVIUB.mjs");return{id:sr,diagram:t}},"loader"),cr={id:sr,detector:Ze,loader:Je};var mr="quadrantChart",ta=e(t=>/^\s*quadrantChart/.test(t),"detector"),ra=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/quadrantDiagram-B4HEIRSM.mjs");return{id:mr,diagram:t}},"loader"),ea={id:mr,detector:ta,loader:ra},pr=ea;var dr="xychart",aa=e(t=>/^\s*xychart-beta/.test(t),"detector"),ia=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/xychartDiagram-ZHG6BLON.mjs");return{id:dr,diagram:t}},"loader"),oa={id:dr,detector:aa,loader:ia},fr=oa;var lr="requirement",na=e(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),sa=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/requirementDiagram-GZXY4GM4.mjs");return{id:lr,diagram:t}},"loader"),ca={id:lr,detector:na,loader:sa},gr=ca;var ur="sequence",ma=e(t=>/^\s*sequenceDiagram/.test(t),"detector"),pa=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/sequenceDiagram-FXGXXBGL.mjs");return{id:ur,diagram:t}},"loader"),da={id:ur,detector:ma,loader:pa},Dr=da;var yr="class",fa=e((t,r)=>r?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),la=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/classDiagram-GPGTWFES.mjs");return{id:yr,diagram:t}},"loader"),ga={id:yr,detector:fa,loader:la},xr=ga;var hr="classDiagram",ua=e((t,r)=>/^\s*classDiagram/.test(t)&&r?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),Da=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/classDiagram-v2-QC5OLR6W.mjs");return{id:hr,diagram:t}},"loader"),ya={id:hr,detector:ua,loader:Da},Er=ya;var wr="state",xa=e((t,r)=>r?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),ha=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/stateDiagram-UUEEAJEB.mjs");return{id:wr,diagram:t}},"loader"),Ea={id:wr,detector:xa,loader:ha},Lr=Ea;var br="stateDiagram",wa=e((t,r)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&r?.state?.defaultRenderer==="dagre-wrapper"),"detector"),La=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/stateDiagram-v2-OC7PCC74.mjs");return{id:br,diagram:t}},"loader"),ba={id:br,detector:wa,loader:La},vr=ba;var Sr="journey",va=e(t=>/^\s*journey/.test(t),"detector"),Sa=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/journeyDiagram-CQTBSH6C.mjs");return{id:Sr,diagram:t}},"loader"),Ma={id:Sr,detector:va,loader:Sa},Mr=Ma;var Aa=e((t,r,a)=>{l.debug(`rendering svg for syntax error
`);let i=Bt(r),o=i.append("g");i.attr("viewBox","0 0 2412 512"),_t(i,100,512,!0),o.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),o.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),o.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),o.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),o.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),o.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),o.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),o.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${a}`)},"draw"),Et={draw:Aa},Ar=Et;var Ta={db:{},renderer:Et,parser:{parse:e(()=>{},"parse")}},Tr=Ta;var Cr="flowchart-elk",Ca=e((t,r={})=>/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&r?.flowchart?.defaultRenderer==="elk"?(r.layout="elk",!0):!1,"detector"),Ra=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/flowDiagram-FKN2Y2MS.mjs");return{id:Cr,diagram:t}},"loader"),ka={id:Cr,detector:Ca,loader:Ra},Rr=ka;var kr="timeline",Oa=e(t=>/^\s*timeline/.test(t),"detector"),Pa=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/timeline-definition-KKQID5LH.mjs");return{id:kr,diagram:t}},"loader"),Fa={id:kr,detector:Oa,loader:Pa},Or=Fa;var Pr="mindmap",ja=e(t=>/^\s*mindmap/.test(t),"detector"),Ia=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/mindmap-definition-APM64XPC.mjs");return{id:Pr,diagram:t}},"loader"),_a={id:Pr,detector:ja,loader:Ia},Fr=_a;var jr="sankey",za=e(t=>/^\s*sankey-beta/.test(t),"detector"),Ga=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/sankeyDiagram-GP2AV25Z.mjs");return{id:jr,diagram:t}},"loader"),Va={id:jr,detector:za,loader:Ga},Ir=Va;var _r="packet",$a=e(t=>/^\s*packet-beta/.test(t),"detector"),Ha=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/diagram-PAQD3OTJ.mjs");return{id:_r,diagram:t}},"loader"),zr={id:_r,detector:$a,loader:Ha};var Gr="block",Na=e(t=>/^\s*block-beta/.test(t),"detector"),Ua=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/blockDiagram-BGEHWKKR.mjs");return{id:Gr,diagram:t}},"loader"),qa={id:Gr,detector:Na,loader:Ua},Vr=qa;var $r="architecture",Ba=e(t=>/^\s*architecture/.test(t),"detector"),Ya=e(async()=>{let{diagram:t}=await import("./chunks/mermaid.esm.min/architectureDiagram-3UE2O5YB.mjs");return{id:$r,diagram:t}},"loader"),Xa={id:$r,detector:Ba,loader:Ya},Hr=Xa;var Nr=!1,$=e(()=>{Nr||(Nr=!0,z("error",Tr,t=>t.toLowerCase().trim()==="error"),z("---",{db:{clear:e(()=>{},"clear")},styles:{},renderer:{draw:e(()=>{},"draw")},parser:{parse:e(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:e(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),J(Xt,Er,xr,tr,ir,nr,cr,gr,Dr,Rr,Zt,Kt,Fr,Or,er,vr,Lr,Mr,pr,Ir,zr,fr,Vr,Hr))},"addDiagrams");var Ur=e(async()=>{l.debug("Loading registered diagrams");let r=(await Promise.allSettled(Object.entries(gt).map(async([a,{detector:i,loader:o}])=>{if(o)try{X(a)}catch{try{let{diagram:n,id:m}=await o();z(m,n,i)}catch(n){throw l.error(`Failed to load external diagram with key ${a}. Removing from detectors.`),delete gt[a],n}}}))).filter(a=>a.status==="rejected");if(r.length>0){l.error(`Failed to load ${r.length} external diagrams`);for(let a of r)l.error(a);throw new Error(`Failed to load ${r.length} external diagrams`)}},"loadRegisteredDiagrams");var rt="comm",et="rule",at="decl";var qr="@import";var Br="@keyframes";var Yr="@layer";var wt=Math.abs,W=String.fromCharCode;function it(t){return t.trim()}e(it,"trim");function K(t,r,a){return t.replace(r,a)}e(K,"replace");function Xr(t,r,a){return t.indexOf(r,a)}e(Xr,"indexof");function V(t,r){return t.charCodeAt(r)|0}e(V,"charat");function F(t,r,a){return t.slice(r,a)}e(F,"substr");function h(t){return t.length}e(h,"strlen");function Wr(t){return t.length}e(Wr,"sizeof");function H(t,r){return r.push(t),t}e(H,"append");var ot=1,N=1,Kr=0,w=0,D=0,q="";function nt(t,r,a,i,o,n,m,s){return{value:t,root:r,parent:a,type:i,props:o,children:n,line:ot,column:N,length:m,return:"",siblings:s}}e(nt,"node");function Qr(){return D}e(Qr,"char");function Zr(){return D=w>0?V(q,--w):0,N--,D===10&&(N=1,ot--),D}e(Zr,"prev");function L(){return D=w<Kr?V(q,w++):0,N++,D===10&&(N=1,ot++),D}e(L,"next");function O(){return V(q,w)}e(O,"peek");function Q(){return w}e(Q,"caret");function st(t,r){return F(q,t,r)}e(st,"slice");function U(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}e(U,"token");function Jr(t){return ot=N=1,Kr=h(q=t),w=0,[]}e(Jr,"alloc");function te(t){return q="",t}e(te,"dealloc");function ct(t){return it(st(w-1,Lt(t===91?t+2:t===40?t+1:t)))}e(ct,"delimit");function re(t){for(;(D=O())&&D<33;)L();return U(t)>2||U(D)>3?"":" "}e(re,"whitespace");function ee(t,r){for(;--r&&L()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return st(t,Q()+(r<6&&O()==32&&L()==32))}e(ee,"escaping");function Lt(t){for(;L();)switch(D){case t:return w;case 34:case 39:t!==34&&t!==39&&Lt(D);break;case 40:t===41&&Lt(t);break;case 92:L();break}return w}e(Lt,"delimiter");function ae(t,r){for(;L()&&t+D!==57;)if(t+D===84&&O()===47)break;return"/*"+st(r,w-1)+"*"+W(t===47?t:L())}e(ae,"commenter");function ie(t){for(;!U(O());)L();return st(t,w)}e(ie,"identifier");function se(t){return te(mt("",null,null,null,[""],t=Jr(t),0,[0],t))}e(se,"compile");function mt(t,r,a,i,o,n,m,s,c){for(var g=0,y=0,p=m,x=0,A=0,b=0,f=1,C=1,v=1,u=0,S="",R=o,T=n,E=i,d=S;C;)switch(b=u,u=L()){case 40:if(b!=108&&V(d,p-1)==58){Xr(d+=K(ct(u),"&","&\f"),"&\f",wt(g?s[g-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:d+=ct(u);break;case 9:case 10:case 13:case 32:d+=re(b);break;case 92:d+=ee(Q()-1,7);continue;case 47:switch(O()){case 42:case 47:H(Wa(ae(L(),Q()),r,a,c),c),(U(b||1)==5||U(O()||1)==5)&&h(d)&&F(d,-1,void 0)!==" "&&(d+=" ");break;default:d+="/"}break;case 123*f:s[g++]=h(d)*v;case 125*f:case 59:case 0:switch(u){case 0:case 125:C=0;case 59+y:v==-1&&(d=K(d,/\f/g,"")),A>0&&(h(d)-p||f===0&&b===47)&&H(A>32?ne(d+";",i,a,p-1,c):ne(K(d," ","")+";",i,a,p-2,c),c);break;case 59:d+=";";default:if(H(E=oe(d,r,a,g,y,o,s,S,R=[],T=[],p,n),n),u===123)if(y===0)mt(d,r,E,E,R,n,p,s,T);else switch(x===99&&V(d,3)===110?100:x){case 100:case 108:case 109:case 115:mt(t,E,E,i&&H(oe(t,E,E,0,0,o,s,S,o,R=[],p,T),T),o,T,p,s,i?R:T);break;default:mt(d,E,E,E,[""],T,0,s,T)}}g=y=A=0,f=v=1,S=d="",p=m;break;case 58:p=1+h(d),A=b;default:if(f<1){if(u==123)--f;else if(u==125&&f++==0&&Zr()==125)continue}switch(d+=W(u),u*f){case 38:v=y>0?1:(d+="\f",-1);break;case 44:s[g++]=(h(d)-1)*v,v=1;break;case 64:O()===45&&(d+=ct(L())),x=O(),y=p=h(S=d+=ie(Q())),u++;break;case 45:b===45&&h(d)==2&&(f=0)}}return n}e(mt,"parse");function oe(t,r,a,i,o,n,m,s,c,g,y,p){for(var x=o-1,A=o===0?n:[""],b=Wr(A),f=0,C=0,v=0;f<i;++f)for(var u=0,S=F(t,x+1,x=wt(C=m[f])),R=t;u<b;++u)(R=it(C>0?A[u]+" "+S:K(S,/&\f/g,A[u])))&&(c[v++]=R);return nt(t,r,a,o===0?et:s,c,g,y,p)}e(oe,"ruleset");function Wa(t,r,a,i){return nt(t,r,a,rt,W(Qr()),F(t,2,-2),0,i)}e(Wa,"comment");function ne(t,r,a,i,o){return nt(t,r,a,at,F(t,0,i),F(t,i+1,-1),i,o)}e(ne,"declaration");function pt(t,r){for(var a="",i=0;i<t.length;i++)a+=r(t[i],i,t,r)||"";return a}e(pt,"serialize");function ce(t,r,a,i){switch(t.type){case Yr:if(t.children.length)break;case qr:case at:return t.return=t.return||t.value;case rt:return"";case Br:return t.return=t.value+"{"+pt(t.children,i)+"}";case et:if(!h(t.value=t.props.join(",")))return""}return h(a=pt(t.children,i))?t.return=t.value+"{"+a+"}":""}e(ce,"stringify");var he=Re(ke(),1);var Ka="graphics-document document";function me(t,r){t.attr("role",Ka),r!==""&&t.attr("aria-roledescription",r)}e(me,"setA11yDiagramInfo");function pe(t,r,a,i){if(t.insert!==void 0){if(a){let o=`chart-desc-${i}`;t.attr("aria-describedby",o),t.insert("desc",":first-child").attr("id",o).text(a)}if(r){let o=`chart-title-${i}`;t.attr("aria-labelledby",o),t.insert("title",":first-child").attr("id",o).text(r)}}}e(pe,"addSVGa11yTitleDescription");var B=class t{constructor(r,a,i,o,n){this.type=r;this.text=a;this.db=i;this.parser=o;this.renderer=n}static{e(this,"Diagram")}static async fromText(r,a={}){let i=_(),o=Z(r,i);r=$t(r)+`
`;try{X(o)}catch{let g=Ct(o);if(!g)throw new Tt(`Diagram ${o} not found.`);let{id:y,diagram:p}=await g();z(y,p)}let{db:n,parser:m,renderer:s,init:c}=X(o);return m.parser&&(m.parser.yy=n),n.clear?.(),c?.(i),a.title&&n.setDiagramTitle?.(a.title),await m.parse(r),new t(o,r,n,m,s)}async render(r,a){await this.renderer.draw(this.text,r,a,this)}getParser(){return this.parser}getType(){return this.type}};var de=[];var fe=e(()=>{de.forEach(t=>{t()}),de=[]},"attachFunctions");var le=e(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function ge(t){let r=t.match(At);if(!r)return{text:t,metadata:{}};let a=Ut(r[1],{schema:Nt})??{};a=typeof a=="object"&&!Array.isArray(a)?a:{};let i={};return a.displayMode&&(i.displayMode=a.displayMode.toString()),a.title&&(i.title=a.title.toString()),a.config&&(i.config=a.config),{text:t.slice(r[0].length),metadata:i}}e(ge,"extractFrontMatter");var Za=e(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(r,a,i)=>"<"+a+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Ja=e(t=>{let{text:r,metadata:a}=ge(t),{displayMode:i,title:o,config:n={}}=a;return i&&(n.gantt||(n.gantt={}),n.gantt.displayMode=i),{title:o,config:n,text:r}},"processFrontmatter"),ti=e(t=>{let r=G.detectInit(t)??{},a=G.detectDirective(t,"wrap");return Array.isArray(a)?r.wrap=a.some(({type:i})=>i==="wrap"):a?.type==="wrap"&&(r.wrap=!0),{text:Gt(t),directive:r}},"processDirectives");function bt(t){let r=Za(t),a=Ja(r),i=ti(a.text),o=Vt(a.config,i.directive);return t=le(i.text),{code:t,title:a.title,config:o}}e(bt,"preprocessDiagram");function ue(t){let r=new TextEncoder().encode(t),a=Array.from(r,i=>String.fromCodePoint(i)).join("");return btoa(a)}e(ue,"toBase64");var ri=5e4,ei="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",ai="sandbox",ii="loose",oi="http://www.w3.org/2000/svg",ni="http://www.w3.org/1999/xlink",si="http://www.w3.org/1999/xhtml",ci="100%",mi="100%",pi="border:0;margin:0;",di="margin:0",fi="allow-top-navigation-by-user-activation allow-popups",li='The "iframe" tag is not supported by your browser.',gi=["foreignobject"],ui=["dominant-baseline"];function Ee(t){let r=bt(t);return Y(),jt(r.config??{}),r}e(Ee,"processAndSetConfigs");async function Di(t,r){$();try{let{code:a,config:i}=Ee(t);return{diagramType:(await we(a)).type,config:i}}catch(a){if(r?.suppressErrors)return!1;throw a}}e(Di,"parse");var De=e((t,r,a=[])=>`
.${t} ${r} { ${a.join(" !important; ")} !important; }`,"cssImportantStyles"),yi=e((t,r=new Map)=>{let a="";if(t.themeCSS!==void 0&&(a+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(a+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(a+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),r instanceof Map){let m=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];r.forEach(s=>{xt(s.styles)||m.forEach(c=>{a+=De(s.id,c,s.styles)}),xt(s.textStyles)||(a+=De(s.id,"tspan",(s?.textStyles||[]).map(c=>c.replace("color","fill"))))})}return a},"createCssStyles"),xi=e((t,r,a,i)=>{let o=yi(t,a),n=zt(r,o,t.themeVariables);return pt(se(`${i}{${n}}`),ce)},"createUserStyles"),hi=e((t="",r,a)=>{let i=t;return!a&&!r&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=Ht(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),Ei=e((t="",r)=>{let a=r?.viewBox?.baseVal?.height?r.viewBox.baseVal.height+"px":mi,i=ue(`<body style="${di}">${t}</body>`);return`<iframe style="width:${ci};height:${a};${pi}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${fi}">
  ${li}
</iframe>`},"putIntoIFrame"),ye=e((t,r,a,i,o)=>{let n=t.append("div");n.attr("id",a),i&&n.attr("style",i);let m=n.append("svg").attr("id",r).attr("width","100%").attr("xmlns",oi);return o&&m.attr("xmlns:xlink",o),m.append("g"),t},"appendDivSvgG");function xe(t,r){return t.append("iframe").attr("id",r).attr("style","width: 100%; height: 100%;").attr("sandbox","")}e(xe,"sandboxedIframe");var wi=e((t,r,a,i)=>{t.getElementById(r)?.remove(),t.getElementById(a)?.remove(),t.getElementById(i)?.remove()},"removeExistingElements"),Li=e(async function(t,r,a){$();let i=Ee(r);r=i.code;let o=_();l.debug(o),r.length>(o?.maxTextSize??ri)&&(r=ei);let n="#"+t,m="i"+t,s="#"+m,c="d"+t,g="#"+c,y=e(()=>{let ft=k(x?s:g).node();ft&&"remove"in ft&&ft.remove()},"removeTempElements"),p=k("body"),x=o.securityLevel===ai,A=o.securityLevel===ii,b=o.fontFamily;if(a!==void 0){if(a&&(a.innerHTML=""),x){let M=xe(k(a),m);p=k(M.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=k(a);ye(p,t,c,`font-family: ${b}`,ni)}else{if(wi(document,t,c,m),x){let M=xe(k("body"),m);p=k(M.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=k("body");ye(p,t,c)}let f,C;try{f=await B.fromText(r,{title:i.title})}catch(M){if(o.suppressErrorRendering)throw y(),M;f=await B.fromText("error"),C=M}let v=p.select(g).node(),u=f.type,S=v.firstChild,R=S.firstChild,T=f.renderer.getClasses?.(r,f),E=xi(o,u,T,n),d=document.createElement("style");d.innerHTML=E,S.insertBefore(d,R);try{await f.renderer.draw(r,t,ht,f)}catch(M){throw o.suppressErrorRendering?y():Ar.draw(r,t,ht),M}let Ae=p.select(`${g} svg`),Te=f.db.getAccTitle?.(),Ce=f.db.getAccDescription?.();vi(u,Ae,Te,Ce),p.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",si);let I=p.select(g).node().innerHTML;if(l.debug("config.arrowMarkerAbsolute",o.arrowMarkerAbsolute),I=hi(I,x,It(o.arrowMarkerAbsolute)),x){let M=p.select(g+" svg").node();I=Ei(I,M)}else A||(I=he.default.sanitize(I,{ADD_TAGS:gi,ADD_ATTR:ui}));if(fe(),C)throw C;return y(),{diagramType:u,svg:I,bindFunctions:f.db.bindFunctions}},"render");function bi(t={}){let r=Rt({},t);r?.fontFamily&&!r.themeVariables?.fontFamily&&(r.themeVariables||(r.themeVariables={}),r.themeVariables.fontFamily=r.fontFamily),Ot(r),r?.theme&&r.theme in tt?r.themeVariables=tt[r.theme].getThemeVariables(r.themeVariables):r&&(r.themeVariables=tt.default.getThemeVariables(r.themeVariables));let a=typeof r=="object"?kt(r):Dt();lt(a.logLevel),$()}e(bi,"initialize");var we=e((t,r={})=>{let{code:a}=bt(t);return B.fromText(a,r)},"getDiagramFromText");function vi(t,r,a,i){me(r,t),pe(r,a,i,r.attr("id"))}e(vi,"addA11yInfo");var j=Object.freeze({render:Li,parse:Di,getDiagramFromText:we,initialize:bi,getConfig:_,setConfig:Ft,getSiteConfig:Dt,updateSiteConfig:Pt,reset:e(()=>{Y()},"reset"),globalReset:e(()=>{Y(ut)},"globalReset"),defaultConfig:ut});lt(_().logLevel);Y(_());var Si=e((t,r,a)=>{l.warn(t),yt(t)?(a&&a(t.str,t.hash),r.push({...t,message:t.str,error:t})):(a&&a(t),t instanceof Error&&r.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),Le=e(async function(t={querySelector:".mermaid"}){try{await Mi(t)}catch(r){if(yt(r)&&l.error(r.str),P.parseError&&P.parseError(r),!t.suppressErrors)throw l.error("Use the suppressErrors option to suppress these errors"),r}},"run"),Mi=e(async function({postRenderCallback:t,querySelector:r,nodes:a}={querySelector:".mermaid"}){let i=j.getConfig();l.debug(`${t?"":"No "}Callback function found`);let o;if(a)o=a;else if(r)o=document.querySelectorAll(r);else throw new Error("Nodes and querySelector are both undefined");l.debug(`Found ${o.length} diagrams`),i?.startOnLoad!==void 0&&(l.debug("Start On Load: "+i?.startOnLoad),j.updateSiteConfig({startOnLoad:i?.startOnLoad}));let n=new G.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),m,s=[];for(let c of Array.from(o)){l.info("Rendering diagram: "+c.id);if(c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");let g=`mermaid-${n.next()}`;m=c.innerHTML,m=Mt(G.entityDecode(m)).trim().replace(/<br\s*\/?>/gi,"<br/>");let y=G.detectInit(m);y&&l.debug("Detected early reinit: ",y);try{let{svg:p,bindFunctions:x}=await Me(g,m,c);c.innerHTML=p,t&&await t(g),x&&x(c)}catch(p){Si(p,s,P.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),be=e(function(t){j.initialize(t)},"initialize"),Ai=e(async function(t,r,a){l.warn("mermaid.init is deprecated. Please use run instead."),t&&be(t);let i={postRenderCallback:a,querySelector:".mermaid"};typeof r=="string"?i.querySelector=r:r&&(r instanceof HTMLElement?i.nodes=[r]:i.nodes=r),await Le(i)},"init"),Ti=e(async(t,{lazyLoad:r=!0}={})=>{$(),J(...t),r===!1&&await Ur()},"registerExternalDiagrams"),ve=e(function(){if(P.startOnLoad){let{startOnLoad:t}=j.getConfig();t&&P.run().catch(r=>l.error("Mermaid failed to initialize",r))}},"contentLoaded");if(typeof document<"u"){window.addEventListener("load",ve,!1)}var Ci=e(function(t){P.parseError=t},"setParseErrorHandler"),dt=[],vt=!1,Se=e(async()=>{if(!vt){for(vt=!0;dt.length>0;){let t=dt.shift();if(t)try{await t()}catch(r){l.error("Error executing queue",r)}}vt=!1}},"executeQueue"),Ri=e(async(t,r)=>new Promise((a,i)=>{let o=e(()=>new Promise((n,m)=>{j.parse(t,r).then(s=>{n(s),a(s)},s=>{l.error("Error parsing",s),P.parseError?.(s),m(s),i(s)})}),"performCall");dt.push(o),Se().catch(i)}),"parse"),Me=e((t,r,a)=>new Promise((i,o)=>{let n=e(()=>new Promise((m,s)=>{j.render(t,r,a).then(c=>{m(c),i(c)},c=>{l.error("Error parsing",c),P.parseError?.(c),s(c),o(c)})}),"performCall");dt.push(n),Se().catch(o)}),"render"),P={startOnLoad:!0,mermaidAPI:j,parse:Ri,render:Me,init:Ai,run:Le,registerExternalDiagrams:Ti,registerLayoutLoaders:qt,initialize:be,parseError:void 0,contentLoaded:ve,setParseErrorHandler:Ci,detectType:Z,registerIconPacks:St},Ts=P;export{Ts as default};
/*! Check if previously processed */
/*!
 * Wait for document loaded before starting the execution
 */
